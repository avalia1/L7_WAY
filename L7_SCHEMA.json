{
  "title": "L7 Common Lingua Schema",
  "type": "object",
  "required": [
    "capability",
    "data",
    "policyIntent",
    "presentation",
    "orchestration",
    "timeVersioning",
    "identitySecurity"
  ],
  "properties": {
    "capability": {
      "type": "string",
      "enum": ["communicate", "data", "analyze", "automate", "render", "search"]
    },
    "data": {
      "type": "object",
      "required": ["pii", "source", "shape", "freshness"],
      "properties": {
        "pii": { "type": "string", "enum": ["pii", "non_pii"] },
        "source": { "type": "string", "enum": ["internal", "external", "mixed"] },
        "shape": { "type": "string", "enum": ["record", "list", "summary", "file"] },
        "freshness": { "type": "string", "enum": ["live", "cached", "snapshot"] }
      },
      "additionalProperties": false
    },
    "policyIntent": {
      "type": "object",
      "required": ["mode", "risk", "requireApproval", "compliance"],
      "properties": {
        "mode": { "type": "string", "enum": ["test", "live"] },
        "risk": { "type": "string", "enum": ["low", "medium", "high"] },
        "requireApproval": { "type": "boolean" },
        "compliance": { "type": "string", "enum": ["standard", "restricted"] }
      },
      "additionalProperties": false
    },
    "presentation": {
      "type": "object",
      "required": ["ui", "output", "density"],
      "properties": {
        "ui": { "type": "string", "enum": ["card", "table", "chart", "form", "editor", "modal"] },
        "output": { "type": "string", "enum": ["html", "markdown", "json", "file"] },
        "density": { "type": "string", "enum": ["compact", "standard", "detailed"] }
      },
      "additionalProperties": false
    },
    "orchestration": {
      "type": "object",
      "required": ["flow", "trigger", "retry"],
      "properties": {
        "flow": { "type": "string", "enum": ["single", "sequence", "parallel"] },
        "trigger": { "type": "string", "enum": ["manual", "scheduled", "event"] },
        "retry": { "type": "string", "enum": ["none", "backoff", "manual"] }
      },
      "additionalProperties": false
    },
    "timeVersioning": {
      "type": "object",
      "required": ["toolVersion", "schemaVersion", "lifecycle"],
      "properties": {
        "toolVersion": { "type": "string", "enum": ["v1", "v2", "v3"] },
        "schemaVersion": { "type": "string", "enum": ["v1", "v2"] },
        "lifecycle": { "type": "string", "enum": ["active", "deprecated", "preview"] }
      },
      "additionalProperties": false
    },
    "identitySecurity": {
      "type": "object",
      "required": ["role", "auth", "audit"],
      "properties": {
        "role": { "type": "string", "enum": ["admin", "analyst", "operator", "viewer"] },
        "auth": { "type": "string", "enum": ["token", "mTLS", "session"] },
        "audit": { "type": "string", "enum": ["on", "off"] }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
